# AgentCraft Production Environment Variables
# Copy this file to .env and fill in your actual values
# ============================================================

# Core Configuration
# ------------------
# Environment mode: development, production, test
NODE_ENV=production

# Server port (default 5000)
PORT=5000

# Application URL (used for password reset emails)
# Replace with your actual domain in production
APP_URL=https://your-domain.com

# Database Configuration (Required)
# ---------------------------------
# PostgreSQL connection URL from Neon or other provider
# Format: postgresql://user:password@host:port/database?sslmode=require
DATABASE_URL=postgresql://your-db-connection-string

# Session Configuration (Required)
# --------------------------------
# Secret key for session encryption (minimum 32 characters)
# Generate with: openssl rand -base64 32
SESSION_SECRET=your-very-long-random-session-secret-here-minimum-32-chars

# Email Configuration (Required for Production)
# ---------------------------------------------
# Resend API key for sending emails (password resets, welcome emails)
RESEND_API_KEY=re_your_resend_api_key

# Email address that appears in the "From" field
# Must be verified in your Resend account
RESEND_FROM_EMAIL=noreply@your-domain.com

# OpenAI Configuration (Required for AI Features)
# -----------------------------------------------
# OpenAI API key for chat functionality
# Get from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your-openai-api-key

# Rate Limiting Configuration (Optional)
# --------------------------------------
# Time window for rate limiting in milliseconds (default: 15 minutes)
RATE_LIMIT_WINDOW_MS=900000

# Maximum requests per window for general endpoints (default: 100)
RATE_LIMIT_MAX_REQUESTS=100

# Maximum authentication attempts per window (default: 5)
AUTH_RATE_LIMIT_MAX=5

# Security Configuration (Optional)
# ---------------------------------
# CORS origin configuration (* allows all origins - restrict in production)
# Example: https://your-domain.com,https://app.your-domain.com
CORS_ORIGIN=https://your-domain.com

# Number of proxy servers between app and internet (default: 1)
# Set to 0 if not behind a proxy, 1 for most cloud providers
TRUST_PROXY=1

# Logging Configuration (Optional)
# --------------------------------
# Log level: error, warn, info, debug (default: info)
LOG_LEVEL=info

# Replit-Specific Variables (Auto-populated)
# ------------------------------------------
# These are automatically set by Replit:
# - REPL_SLUG: Your repl's name
# - REPL_OWNER: Your username
# - REPL_ID: Unique repl identifier
# - REPLIT_DEV_DOMAIN: Development domain
# - REPLIT_DOMAINS: Production domains

# Development Notes
# -----------------
# In development, you can use these minimal settings:
# - NODE_ENV=development
# - DATABASE_URL=your-dev-database
# - SESSION_SECRET=dev-secret-at-least-32-characters-long
# - OPENAI_API_KEY is optional (AI features won't work without it)
# - RESEND_API_KEY is optional (email features won't work without it)

# Production Checklist
# --------------------
# Before deploying to production, ensure you have:
# ✓ Strong SESSION_SECRET (minimum 64 characters recommended)
# ✓ Valid DATABASE_URL with SSL enabled
# ✓ RESEND_API_KEY configured with verified domain
# ✓ OPENAI_API_KEY with sufficient credits
# ✓ CORS_ORIGIN restricted to your domain(s)
# ✓ NODE_ENV set to "production"
# ✓ Appropriate rate limiting values based on your scale